## 内置对象

[TOC]



### Math对象

| 属性、方法名          | 功能                                         |
| --------------------- | -------------------------------------------- |
| Math.PI               | 圆周率                                       |
| Math.floor()          | 向下取整                                     |
| Math.ceil()           | 向上取整                                     |
| Math.round()          | 四舍五入版 就近取整   注意 -3.5   结果是  -3 |
| Math.abs()            | 绝对值                                       |
| Math.max()/Math.min() | 求最大和最小值                               |
| Math.random()         | 获取范围在[0,1)内的随机值                    |

​	**获取指定范围内的随机整数**：

```
function getRandom(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min; 
}
```

### 日期对象

 	Date 对象和 Math 对象不一样，Date是一个构造函数，所以使用时需要实例化后才能使用其中具体方法和属性。Date 实例用来处理日期和时间

- 使用Date实例化日期对象

  - 获取当前时间必须实例化：

  ```js
  var now = new Date();
  ```

  - 获取指定时间的日期对象

  ```js
  var future = new Date('2019/5/1');
  ```

  注意：如果创建实例时并未传入参数，则得到的日期对象是当前时间对应的日期对象

- 使用Date实例的方法和属性	

  | 方法名        | 说明            | 代码        |
  | :------------ | :-------------- | :---------- |
  | getFullYear() | 获得当年        | dObj.方法名 |
  | getMonth()    | 获得当月(0-11)  |             |
  | getDate()     | 获得当天日期    |             |
  | getDay()      | 获得星期几(0-6) |             |
  | getHours()    | 获得当前小时    |             |
  | getMinutes()  | 获得当前分钟    |             |
  | getSeconds()  | 获得当前秒      |             |

- 通过Date实例获取总毫米数

  - 总毫秒数的含义

    ​	基于1970年1月1日（世界标准时间）起的毫秒数

  - 获取总毫秒数

    ```js
    // 实例化Date对象
    var now = new Date();
    // 1. 用于获取对象的原始值
    console.log(date.valueOf())	
    console.log(date.getTime())	
    // 2. 简单写可以这么做
    var now = + new Date();			
    // 3. HTML5中提供的方法，有兼容性问题
    var now = Date.now();
    ```

### 数组对象

#### 创建数组的两种方式

- 字面量方式

  - 示例代码如下：

    ```js
    var arr = [1,"test",true];
    ```

- new Array()

  - 示例代码如下：

    ```
    var arr = new Array();
    ```

    ​	注意：上面代码中arr创建出的是一个空数组，如果需要使用构造函数Array创建非空数组，可以在创建数组时传入参数

    ​	参数传递规则如下：

    - 如果只传入一个参数，则参数规定了数组的长度

    - 如果传入了多个参数，则参数称为数组的元素

#### 检测是否为数组

- instanceof 运算符

  - instanceof 可以判断一个对象是否是某个构造函数的实例

    ```js
    var arr = [1, 23];
    var obj = {};
    console.log(arr instanceof Array); // true
    console.log(obj instanceof Array); // false
    ```

- Array.isArray()

  - Array.isArray()用于判断一个对象是否为数组，isArray() 是 HTML5 中提供的方法

    ```js
    var arr = [1, 23];
    var obj = {};
    console.log(Array.isArray(arr));   // true
    console.log(Array.isArray(obj));   // false
    ```

#### 原数组添加删除数组元素的方法

- 数组中有进行增加、删除元素的方法，部分方法如下表

  | 方法名         | 说明                                     | 返回值         |
  | -------------- | ---------------------------------------- | -------------- |
  | push(参数1)    | 末尾添加一个或多个元素，修改原数组       | 返回新长度     |
  | pop()          | 删除数组最后一个元素，无参数，修改原数组 | 返回删除的元素 |
  | unshift(参数1) | 向数组开口添加一个或多个元素，修改原数组 | 返回新长度     |
  | shift()        | 删除数组第一个元素，无参数，修改原数组   | 返回删除的元素 |

  注意：push、unshift为增加元素方法；pop、shift为删除元素的方法

#### 数组排序

- 数组中有对数组本身排序的方法，部分方法如下表

  | 方法名    | 说明                 | 是否修改原数组         |
  | --------- | -------------------- | ---------------------- |
  | reverse() | 颠倒元素顺序，无参数 | 改变原数组，返回新数组 |
  | sort()    | 对数组元素进行排序   | 改变原数组，返回新数组 |

  注意：sort方法需要传入参数来设置升序、降序排序

  - 如果传入“function(a,b){ return a-b;}”，则为升序
  - 如果传入“function(a,b){ return b-a;}”，则为降序

#### 数组索引方法

- 数组中有获取数组指定元素索引值的方法，部分方法如下表

  | 方法名                       | 说明                       | 返回值                       |
  | ---------------------------- | -------------------------- | ---------------------------- |
  | indexOf (需要查找的元素)     | 查找给定元素的第一个索引   | 存在返回索引号，不存在返回-1 |
  | lastIndexOf (需要查找的元素) | 查找给定元素的最后一个索引 | 存在返回索引号，不存在返回-1 |

  

#### 数组转换为字符串

- 数组中有把数组转化为字符串的方法，部分方法如下表

  | 方法名           | 说明                                 | 返回值           |
  | ---------------- | ------------------------------------ | ---------------- |
  | toString()       | 把数组转换成字符串，以逗号分隔每一项 | 返回一个字符串   |
  | join('分隔符号') | 把数组的所有元素转换为一个字符串     | 返回与一个字符串 |

  注意：join方法如果不传入参数，则按照 “ , ”拼接元素

#### 其他方法

- 数组中还有其他操作方法，同学们可以在课下自行查阅学习

  | 方法名   | 说明                                 | 返回值                                 |
  | -------- | ------------------------------------ | -------------------------------------- |
  | concat() | 连接两个或多个数组，不影响原数组     | 返回一个新数组                         |
  | slice()  | 数组截取slice(begin,end)             | 返回被截取项目的数组                   |
  | splice() | 数组删除splice(第几个开始，要删几个) | 返回被删除项目的新数组，也修改了原数组 |

  

### 字符串对象

#### 基本包装类型

​		为了方便操作基本数据类型，JavaScript 还提供了三个特殊的引用类型：String、Number和 Boolean。

​		基本包装类型就是把简单数据类型包装成为复杂数据类型，这样基本数据类型就有了属性和方法。

```js
// 下面代码有什么问题？
var str = 'andy';
console.log(str.length);
```

​		按道理基本数据类型是没有属性和方法的，而对象才有属性和方法，但上面代码却可以执行，这是因为

​		js 会把基本数据类型包装为复杂数据类型，其执行过程如下 ：

```js
// 1. 生成临时变量，把简单类型包装为复杂数据类型
var temp = new String('andy');
// 2. 赋值给我们声明的字符变量
str = temp;
// 3. 销毁临时变量
temp = null;
```

#### 字符串的不可变

​		指的是里面的值不可变，虽然看上去可以改变内容，但其实是地址变了，内存中新开辟了一个内存空间。

​		当重新给字符串变量赋值的时候，变量之前保存的字符串不会被修改，依然在内存中重新给字符串赋值，会重新在内存中开辟空间，这个特点就是字符串的不可变。
​		由于字符串的不可变，在**大量拼接字符串**的时候会有效率问题

#### 根据字符返回位置

​		字符串通过基本包装类型可以调用部分方法来操作字符串，以下是返回指定字符的位置的方法：

![](L:/前端项目/07-10 JavaScript网页编程/07-10 JavaScript网页编程/01-JavaScript基础语法资料/JavaScript基础第06天/4-笔记/images/图片7.png)

​		案例：查找字符串"abcoefoxyozzopp"中所有o出现的位置以及次数

1. 先查找第一个o出现的位置
2. 然后 只要indexOf 返回的结果不是 -1 就继续往后查找
3. 因为indexOf 只能查找到第一个，所以后面的查找，利用第二个参数，当前索引加1，从而继续查找 	

#### 根据位置返回字符

​		字符串通过基本包装类型可以调用部分方法来操作字符串，以下是根据位置返回指定位置上的字符：

![](L:/前端项目/07-10 JavaScript网页编程/07-10 JavaScript网页编程/01-JavaScript基础语法资料/JavaScript基础第06天/4-笔记/images/图片8.png)

​		在上述方法中，charCodeAt方法返回的是指定位置上字符对应的ASCII码，ASCII码对照表如下：

![](L:/前端项目/07-10 JavaScript网页编程/07-10 JavaScript网页编程/01-JavaScript基础语法资料/JavaScript基础第06天/4-笔记/images/图片9.png)

​		案例：判断一个字符串 'abcoefoxyozzopp' 中出现次数最多的字符，并统计其次数

1. 核心算法：利用 charAt(） 遍历这个字符串

2. 把每个字符都存储给对象， 如果对象没有该属性，就为1，如果存在了就 +1

3. 遍历对象，得到最大值和该字符 	

   ​	注意：在遍历的过程中，把字符串中的每个字符作为对象的属性存储在对象总，对应的属性值是该字符出现的次数

#### 字符串操作方法

​		字符串通过基本包装类型可以调用部分方法来操作字符串，以下是部分操作方法：

![](L:/前端项目/07-10 JavaScript网页编程/07-10 JavaScript网页编程/01-JavaScript基础语法资料/JavaScript基础第06天/4-笔记/images/图片10.png)

#### replace()方法

​		replace() 方法用于在字符串中用一些字符替换另一些字符，其使用格式如下：  

```
字符串.replace(被替换的字符串， 要替换为的字符串)；
```

#### split()方法

​		split()方法用于切分字符串，它可以将字符串切分为数组。在切分完毕之后，返回的是一个新数组。

​		其使用格式如下：

```
字符串.split("分割字符")
```

